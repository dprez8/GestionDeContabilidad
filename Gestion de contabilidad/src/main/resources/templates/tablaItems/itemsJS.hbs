const tablaItems = {
    props: {
        actualizarItems: Function
    },
    template: `{{> tablaItems/itemsHTML.hbs}}`,
    data() {
        return {
            items: [
                {
                    nombreProducto: "",
                    cantidad: "",
                    precio: ""
                }
            ],
            campos_items: [{
                    key: 'nombreProducto',
                    label: 'Producto',
                    tdClass: ['w-75']
                },
                {
                    key: 'cantidad',
                    label: 'Cantidad',
                    tdClass: [],
                    thClass: ['text-center']
                },
                {
                    key: 'precio',
                    label: 'Precio',
                    tdClass: ['w-25'],
                    thClass: ['text-center']
                },
                {
                    key: 'delete',
                    label: '',
                    tdClass: [],
                    thClass: ['text-center']
                }
            ]
        }
    },
    methods: {
        checkIfAddItem() {
            var items = this.items;
            var lastItemIndex = items.length - 1;
            var lastItem = items[lastItemIndex];

            if (lastItem == undefined ||
                lastItem.nombreProducto != "" ||
                lastItem.cantidad != "" ||
                lastItem.precio != ""
            ) {
                return true;
            }
            return false;
        },
        addItem() {
            if (this.checkIfAddItem()) {
                this.items.push({
                    nombreProducto: "",
                    cantidad: "",
                    precio: ""
                });
            }
            this.actualizarItems(this.items);
        },
        deleteItem(index) {
            this.items.splice(index, 1);
            this.addItem();
        }
    }
};