const operaciones = {
    template: `{{> operaciones/operacionesHTML.hbs}}`,
    data() {
        return {
            egresos: [
                {
                    id: 1,
                    name: 'Egreso 1234', 
                    validado: true, 
                    total: 42234, 
                    emitido: "12/12/2020",
                    _showDetails: true,
                    showEgreso: false
                },
                {
                    id: 2,
                    name: 'Egreso 4322', 
                    validado: false, 
                    total: 456453, 
                    emitido: "22/04/2020",
                    _showDetails: true,
                    showEgreso: false
                }
            ],
            ingresos: [
                {}
            ],
            egresoSelected: null,
            campos_egresos: [
                { key: 'name', label: 'Egreso', thClass:['w-100'], tdClass:[] },
                { key: 'validado', label: 'Estado', thClass:['text-center'], tdClass:['text-center'] },
                { key: 'total', label: 'Total', thClass:['text-center'], tdClass:['text-center'] },
                { key: 'emitido', label: 'Emitido', thClass:['text-center'], tdClass:['text-center'] }
            ],
            campos_ingresos: [
                { key: 'name', label: 'Ingreso', thClass:['w-100'], tdClass:[] },
                { key: 'monto_total', label: 'Total', thClass:['text-center'], tdClass:['text-center'] },
                { key: 'descripcion', label: 'Descripcion', thClass:['text-center'], tdClass:['text-center'] },
                { key: 'fecha_operacion', label: 'Fecha OperaciÃ³n', thClass: ['text-center'], tdClass: ['text-center'] },
            ],
            transProps: {
              name: "fade"
            }
        }
    },
    methods: {
        toggleEgreso(row) {
            console.log(row);

            if(!row.showEgreso) {
                this.$router.push('/operaciones/egreso/'+ row.id);
            } else {
                this.$router.push('/operaciones/egreso');
            }
        },
        seleccionarEgreso() {
            var id = this.$route.params.id;

            this.egresos.forEach(egreso => {
                if(egreso.id != id)
                    egreso.showEgreso = false;
                else
                    egreso.showEgreso = true;
            });
        },
        rowStyle(item, type) {
            if(type == 'row') {
                if(item.showEgreso) {
                    return ['bg-secondary', 'text-light'];
                }
            }
        }
    },
    components: {
        'egreso': egreso
    },
    watch: {
        $route(to, from) {
            this.seleccionarEgreso();
        }
    },
    mounted() {
        this.seleccionarEgreso();
    }
};